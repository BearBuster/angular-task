<form (ngSubmit)="submit()" [formGroup]="form">
  <div class="w-100 mb-4 my-shadow container rounded pt-3">
    <h3>Dettagli gruppo di firma</h3>
    <div class="d-flex justify-content-between">
      <div class="d-flex">
        <label class="d-flex flex-column text-secondary m-2">
          Nome gruppo
          <app-my-input type="text" formControlName="groupName" />
        </label>

        <label class="d-flex flex-column text-secondary m-2">
          Soglia minima servizi
          <div class="my-form-control d-flex">
            <app-my-input type="number" formControlName="maxValue" [subText]="{text: 'EURO', pos: 'after'}" />
          </div>
        </label>

        <label class="d-flex flex-column text-secondary m-2">
          Soglia massima servizi
          <div class="my-form-control d-flex">
            <app-my-input type="number" formControlName="minValue" [subText]="{text: 'EURO', pos: 'after'}" />
          </div>
        </label>
      </div>

      <div class="d-flex opacity-50 m-2">
        <div class="circle">
          <p class="circle-inner">1</p>
        </div>
        <div class="circle">
          <p class="circle-inner">2</p>
        </div>
      </div>
    </div>
  </div>

  <div class="d-flex justify-content-between">
    <div class="function-list-container my-shadow rounded">
      <h3>
        Abilita servizi per gruppo di firma
        <h5 class="text-secondary">Seleziona i servizi e imposta la relativa soglia</h5>
      </h3>

      <table style="width: 100%">
        <div style="height: 590px; overflow-y: scroll">
        <thead>
          <tr>
            <th>Servizio</th>
            <th>Soglia minima</th>
            <th>Soglia massima</th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let fun of functions.controls; let i = index"
            formArrayName="functions"
            class="row-height"
          >
            <ng-container [formGroupName]="i">
              <td>
                <app-toggle-slider formControlName="checked" #toggle />
                <span style="margin-left: 10px" title="{{fun.value.name}}">{{ fun.value.name | characters: 20 }}</span>
              </td>
              <td>
                <app-my-input type="number" formControlName="minValue" [subText]="{text: 'EURO', pos: 'after'}" [isDisabled]="!toggle.toggleOn" />
              </td>
              <td>
                <app-my-input type="number" formControlName="maxValue" [subText]="{text: 'EURO', pos: 'after'}" [isDisabled]="!toggle.toggleOn" />
              </td>
            </ng-container>
          </tr>
        </tbody>
        </div>
      </table>
    </div>
    <div class="user-list-container my-shadow rounded">
      <h3>
        Seleziona utenti da aggiungere al gruppo
        <h5 class="text-secondary">Sono disponibili solo gli utenti dispositivi</h5>
      </h3>
      <app-my-input placeholder="Filtra..." />
      <ul
        style="list-style: none; padding: 0; margin-top: 10px"

      >
        <ng-container
          *ngFor="let user of users.controls;let i=index"
          formArrayName="users"
        >
          <li class="my-2" [formGroupName]="i">
            <app-user-checkbox formControlName="checked" [fullName]="user.value.fullName" [initial]="user.value.userInitials" />
          </li>
        </ng-container>
      </ul>
    </div>
  </div>

<!--  <div class="w-50 my-shadow container rounded pt-3">-->
<!--    <h3>-->
<!--      Abilita servizi per gruppo di firma-->
<!--      <h5 class="text-secondary">Seleziona i servizi e imposta la relativa soglia</h5>-->
<!--    </h3>-->

<!--    <table class="table">-->
<!--      <div class="table" style="overflow-y: scroll; width: auto">-->
<!--        <tr>-->
<!--          <th>-->
<!--            Servizio-->
<!--          </th>-->
<!--          <th>-->
<!--            Soglia minima-->
<!--          </th>-->
<!--          <th>-->
<!--            Soglia massima-->
<!--          </th>-->
<!--        </tr>-->
<!--        <tr *ngFor="let fun of functions.controls; let i = index"-->
<!--            formArrayName="functions"-->
<!--        >-->
<!--          <ng-container [formGroupName]="i">-->
<!--            <td>-->
<!--              <app-toggle-slider formControlName="checked" #toggle />-->
<!--              <span title="{{fun.value.name}}">{{ fun.value.name | characters: 20 }}</span>-->
<!--            </td>-->
<!--            <td>-->
<!--              <app-my-input type="number" formControlName="minValue" [subText]="{text: 'EURO', pos: 'after'}" [isDisabled]="!toggle.toggleOn" />-->
<!--            </td>-->
<!--            <td>-->
<!--              <app-my-input type="number" formControlName="maxValue" [subText]="{text: 'EURO', pos: 'after'}" [isDisabled]="!toggle.toggleOn" />-->
<!--            </td>-->
<!--          </ng-container>-->
<!--        </tr>-->
<!--      </div>-->
<!--    </table>-->

<!--    <div class="mb-3">-->
<!--      <div class="row text-secondary" style="font-size: 14px">-->
<!--        <div class="col">-->
<!--          Servizio-->
<!--        </div>-->
<!--        <div class="col">-->
<!--          Soglia minima-->
<!--        </div>-->
<!--        <div class="col">-->
<!--          Soglia massima-->
<!--        </div>-->
<!--      </div>-->
<!--      <div class="row"-->
<!--           *ngFor="let fun of functions.controls; let i = index"-->
<!--           formArrayName="functions"-->
<!--           style="padding: 10px"-->
<!--      >-->
<!--        <ng-container [formGroupName]="i">-->
<!--          <div class="col-5" style="width: 300px;">-->
<!--            <app-toggle-slider formControlName="checked" #toggle />-->
<!--            <span class="p-3">{{fun.value.name}}</span>-->
<!--          </div>-->
<!--          <div class="col-3">-->
<!--            <app-my-input type="number" formControlName="minValue" [subText]="{text: 'EURO', pos: 'after'}" [isDisabled]="!toggle.toggleOn" />-->
<!--          </div>-->
<!--          <div class="col-3">-->
<!--            <app-my-input type="number" formControlName="maxValue" [subText]="{text: 'EURO', pos: 'after'}" [isDisabled]="!toggle.toggleOn" />-->
<!--          </div>-->
<!--        </ng-container>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->

<!--  <div class="d-flex">-->
<!--    <div class="w-50 my-shadow container rounded pt-3">-->
<!--      <h3>-->
<!--        Seleziona utenti da aggiungere al gruppo-->
<!--        <h5 class="text-secondary">Sono disponibili solo gli utenti dispositivi</h5>-->
<!--      </h3>-->
<!--      <input type="text" placeholder="Filtra...">-->
<!--      <ul-->
<!--        style="list-style: none; padding: 0; margin-top: 10px"-->

<!--      >-->
<!--        <ng-container-->
<!--          *ngFor="let user of users.controls;let i=index"-->
<!--          formArrayName="users"-->
<!--        >-->

<!--          {{user.get('checked') | json}}-->

<!--          <li class="my-2" [formGroupName]="i">-->
<!--            <div class="d-flex align-items-center">-->
<!--              <label class="d-block" style="margin-right: 10px">-->
<!--                <input type="checkbox" formControlName="checked">-->
<!--              </label>-->
<!--              <div class="circle" style="margin-right: 10px">-->
<!--                <p class="circle-inner">2</p>-->
<!--              </div>-->
<!--              <span>Dumitru Frunza</span>-->
<!--            </div>-->
<!--          </li>-->
<!--        </ng-container>-->
<!--      </ul>-->
<!--    </div>-->
<!--  </div>-->

<!--    <app-card-overview-user-list-->
<!--    [parentForm]="form"-->
<!--  ></app-card-overview-user-list>-->

</form>
<pre>{{form.value | json}}</pre>

<!--<form [formGroup]="myForm" (ngSubmit)="submit()">-->
<!--  <div>-->
<!--    <label>-->
<!--      Group Name-->
<!--      <input formControlName="groupName">-->
<!--    </label>-->

<!--    <div>-->
<!--      <label>-->
<!--        Min-->
<!--        <input formControlName="min">-->
<!--      </label>-->
<!--    </div>-->

<!--    <div>-->
<!--      <label>-->
<!--        Min-->
<!--        <input formControlName="max">-->
<!--      </label>-->
<!--    </div>-->

<!--    <div formArrayName="max">-->
<!--      <div *ngFor="let max of getFormsControls()['controls']; let i = index">-->
<!--        <label>-->
<!--          Max-->
<!--          <input formControlName="{{i}}">-->
<!--        </label>-->
<!--      </div>-->
<!--    </div>-->

<!--    <button type="submit">-->
<!--      qwe-->
<!--    </button>-->
<!--  </div>-->
<!--</form>-->



<!--<mat-grid-list cols="1" rowHeight="200px">-->
<!--  <mat-grid-tile>-->
<!--    <div class="card w-100">-->
<!--      <div class="card-body">-->
<!--        <h1 class="card-title">Dettagli gruppo di firma</h1>-->
<!--        <div class="card-text d-flex justify-content-between">-->
<!--          <div class="d-flex">-->
<!--            <mat-form-field style="margin-right: 10px">-->
<!--              <mat-label>Nome gruppo</mat-label>-->
<!--              <input matInput [(ngModel)]="groupDetails.groupName">-->
<!--            </mat-form-field>-->
<!--            <mat-form-field style="margin-right: 10px">-->
<!--              <mat-label>Soglia minima servizi</mat-label>-->
<!--              <input matInput [(ngModel)]="groupDetails.minValue">-->
<!--            </mat-form-field>-->
<!--            <mat-form-field style="margin-right: 10px">-->
<!--              <mat-label>Soglia massima servizi</mat-label>-->
<!--              <input matInput [(ngModel)]="groupDetails.minValue">-->
<!--            </mat-form-field>-->
<!--          </div>-->

<!--          <div class="d-flex opacity-50" style="padding-top: 10px">-->
<!--            <div class="circle" *ngFor="let user of groupDetails.users">-->
<!--              <p class="circle-inner">{{user.userInitials}}</p>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </mat-grid-tile>-->
<!--</mat-grid-list>-->

<!--<mat-grid-list cols="2" rowHeight="800px" [gutterSize]="'10px'">-->
<!--  <mat-grid-tile >-->
<!--    <div class="card w-100 h-100">-->
<!--      <div class="card-body">-->
<!--        <h1 class="card-title">-->
<!--          Abilita servizi per gruppo di firma-->
<!--          <h3 class="card-subtitle text-secondary">Seleziona i servizi e imposta la relativa soglia</h3>-->
<!--        </h1>-->
<!--        <mat-grid-list cols="9" rowHeight="50px" [gutterSize]="'10px'">-->
<!--          <mat-grid-tile colspan="3">-->
<!--            <div class="w-100 h-100">-->
<!--              <h3 class="text-secondary fw-bold">Servizio</h3>-->
<!--            </div>-->
<!--          </mat-grid-tile>-->
<!--          <mat-grid-tile colspan="2">-->
<!--            <div class="w-100 h-100">-->
<!--              <h3 class="text-secondary fw-bold">Soglia minima</h3>-->
<!--            </div>-->
<!--          </mat-grid-tile>-->
<!--          <mat-grid-tile>-->
<!--          </mat-grid-tile>-->
<!--          <mat-grid-tile colspan="2">-->
<!--            <div class="w-100 h-100">-->
<!--              <h3 class="text-secondary fw-bold">Soglia massima</h3>-->
<!--            </div>-->
<!--          </mat-grid-tile>-->
<!--          <mat-grid-tile>-->
<!--          </mat-grid-tile>-->
<!--        </mat-grid-list>-->
<!--        <app-function-row-->
<!--          *ngFor="let function of functionList"-->
<!--          [functionDetails]="existInListOfGroupFunctions(function)"-->

<!--        >-->
<!--        </app-function-row>-->

<!--      </div>-->
<!--    </div>-->
<!--  </mat-grid-tile>-->
<!--  <mat-grid-tile>-->
<!--    <div class="card w-100 h-100">-->
<!--      <div class="card-body">-->
<!--        <h1 class="card-title">-->
<!--          Seleziona utenti da aggiungere al gruppo-->
<!--          <h3 class="card-subtitle text-secondary">Sono disponibili solo gli utenti dispositivi</h3>-->
<!--        </h1>-->
<!--        <div class="card-text">-->
<!--          qweqwe-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </mat-grid-tile>-->
<!--</mat-grid-list>-->

<!--&lt;!&ndash;<mat-grid-list cols="2" rowHeight="90vh">&ndash;&gt;-->
<!--&lt;!&ndash;  <mat-grid-tile>&ndash;&gt;-->
<!--&lt;!&ndash;    <mat-card style="margin: 1px; width: 100%;height: 100%; display: flex;justify-content: space-between;">&ndash;&gt;-->
<!--&lt;!&ndash;      <div>&ndash;&gt;-->
<!--&lt;!&ndash;        <mat-card-header>&ndash;&gt;-->
<!--&lt;!&ndash;          <mat-card-title>Some Title</mat-card-title>&ndash;&gt;-->
<!--&lt;!&ndash;          <mat-card-subtitle>Some subTitle</mat-card-subtitle>&ndash;&gt;-->
<!--&lt;!&ndash;        </mat-card-header>&ndash;&gt;-->
<!--&lt;!&ndash;        <mat-card-content class="pt-3">&ndash;&gt;-->
<!--&lt;!&ndash;          <form>&ndash;&gt;-->
<!--&lt;!&ndash;            <mat-grid-list cols="2" rowHeight="100">&ndash;&gt;-->
<!--&lt;!&ndash;              <mat-grid-tile>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="w-80">&ndash;&gt;-->
<!--&lt;!&ndash;                  <label for="email" class="form-label">Email address</label>&ndash;&gt;-->
<!--&lt;!&ndash;                  <input type="email" class="form-control" id="email" placeholder="name@example.com">&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;              </mat-grid-tile>&ndash;&gt;-->
<!--&lt;!&ndash;              <mat-grid-tile>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="w-80">&ndash;&gt;-->
<!--&lt;!&ndash;                  <label for="email" class="form-label">Email address</label>&ndash;&gt;-->
<!--&lt;!&ndash;                  <input type="email" class="form-control" id="email" placeholder="name@example.com">&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;              </mat-grid-tile>&ndash;&gt;-->
<!--&lt;!&ndash;              <mat-grid-tile>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="w-80">&ndash;&gt;-->
<!--&lt;!&ndash;                  <label for="email" class="form-label">Email address</label>&ndash;&gt;-->
<!--&lt;!&ndash;                  <input type="email" class="form-control" id="email" placeholder="name@example.com">&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;              </mat-grid-tile>&ndash;&gt;-->
<!--&lt;!&ndash;              <mat-grid-tile>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="w-80">&ndash;&gt;-->
<!--&lt;!&ndash;                  <label for="email" class="form-label">Email address</label>&ndash;&gt;-->
<!--&lt;!&ndash;                  <input type="email" class="form-control" id="email" placeholder="name@example.com">&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;              </mat-grid-tile>&ndash;&gt;-->
<!--&lt;!&ndash;              <mat-grid-tile>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="w-80">&ndash;&gt;-->
<!--&lt;!&ndash;                  <label for="email" class="form-label">Email address</label>&ndash;&gt;-->
<!--&lt;!&ndash;                  <input type="email" class="form-control" id="email" placeholder="name@example.com">&ndash;&gt;-->
<!--&lt;!&ndash;                </div>&ndash;&gt;-->
<!--&lt;!&ndash;              </mat-grid-tile>&ndash;&gt;-->
<!--&lt;!&ndash;            </mat-grid-list>&ndash;&gt;-->
<!--&lt;!&ndash;          </form>&ndash;&gt;-->
<!--&lt;!&ndash;        </mat-card-content>&ndash;&gt;-->
<!--&lt;!&ndash;      </div>&ndash;&gt;-->
<!--&lt;!&ndash;      <mat-card-actions>&ndash;&gt;-->
<!--&lt;!&ndash;        <button mat-button>Edit</button>&ndash;&gt;-->
<!--&lt;!&ndash;      </mat-card-actions>&ndash;&gt;-->
<!--&lt;!&ndash;    </mat-card>&ndash;&gt;-->
<!--&lt;!&ndash;  </mat-grid-tile>&ndash;&gt;-->
<!--&lt;!&ndash;</mat-grid-list>&ndash;&gt;-->
